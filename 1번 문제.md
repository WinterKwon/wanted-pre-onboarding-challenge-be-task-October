## 1. 동시에 같은 DB table row 업데이트 방지

### (1) 트랜잭션을 queue로 관리
queue는 FIFO 방식이므로 동시에 같은 row가 업데이트 되는 걸 방지할 수 있다고 생각한다. 


### (2) deadlock 방지 

lock이란 데이터에 대한 동시 접근에서 발생하는 데이터 오염을 방지하기 위해 고안된 DBMS 관리 기법이다. 데이터를 업데이트 하려할때 테이블의 특정 행이 lock에 걸리게 되면 다른 트랜잭션에서는 업데이트 할 수 없게 된다. 현재 트랙잭션이 업데이트 작업을 마치면 lock이 풀리게 되고 다른 트랜잭션에서 업데이트 할 수 있다. 

만약 다른 트랜잭션이 서로 경합해 교착 상태에 빠지게 되면 결과적으로 무한 대기 상태에 빠지게 되므로 이를 방지할 필요가 있다. 

따라서 트랜잭션을 순차적으로 처리하도록 테이블을 동시에 업데이트하지 않고, 트랜잭션의 길이를 짧게 설계한다. 